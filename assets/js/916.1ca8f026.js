"use strict";(self["webpackChunkboost_rpg_tools"]=self["webpackChunkboost_rpg_tools"]||[]).push([[916],{948:function(t,e,s){s.r(e),s.d(e,{default:function(){return Di}});s(4114);var i=s(6768),l=s(5130),a=s(4232),n=s.p+"assets/img/entity-placeholder-image.dda0b6d1.png";const o={class:"hero is-primary mb-5",ref:"tool"},c=(0,i.Lk)("div",{class:"hero-body"},[(0,i.Lk)("p",{class:"title"}," Panel Mistrza Gry "),(0,i.Lk)("p",{class:"subtitle"}," Wszystko czego potrzebujesz do prowadzenia. ")],-1),r=[c],d={class:"tile is-ancestor"},u={class:"tile is-parent is-12 is-vertical"},h={class:"tile is-child notification is-info"},p={class:"tile is-parent is-12 p-0 pb-5 mb-5 is-vertical"},k=(0,i.Lk)("div",{class:"tile is-child is-12"},[(0,i.Lk)("p",{class:"title is-4 mb-2"}," Narzędzia ")],-1),y=(0,i.Lk)("div",{class:"tile is-child is-12"},[(0,i.Lk)("p",{class:"title is-5"}," Rzuty kością ")],-1),m={class:"tile is-child is-12"},L={class:"field is-grouped is-grouped-multiline default mb-2"},v={class:"field has-addons is-gruped mr-2"},g={class:"control"},f=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-ellipsis-vertical"})],-1),w=[f],b={key:0,class:"control"},C=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-arrow-up"})],-1),S=[C],D={key:1,class:"control"},F=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-arrow-down"})],-1),R=[F],z={key:2,class:"control",style:{"min-width":"40px","max-width":"80px"}},x={class:"control"},M={class:"icon is-small"},I={class:"control",style:{"min-width":"40px","max-width":"80px"}},j={class:"field mr-2"},E={class:"control"},T={class:"field has-addons is-gruped mr-2"},A={class:"control"},P={class:"icon is-small"},K={class:"control",style:{"min-width":"40px","max-width":"80px"}},V={class:"field has-addons is-gruped mr-2"},X={class:"control"},N={class:"icon is-small"},O={class:"control",style:{"min-width":"40px","max-width":"80px"}},$={class:"field is-child is-12 is-grouped"},W=(0,i.Lk)("p",{class:"title is-5"}," Notatki ",-1),_=(0,i.Lk)("span",{class:"icon is-small is-danger"},[(0,i.Lk)("i",{class:"fas fa-plus"})],-1),U=[_],Q={class:"tile is-child is-12"},J=["onUpdate:modelValue"],Z=["onClick"],H=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fas fa-trash"})],-1),B=[H],G={class:"tile is-parent is-12 p-0 is-vertical"},q=(0,i.Lk)("div",{class:"tile is-child is-12"},[(0,i.Lk)("p",{class:"title is-4 mb-2"}," Organizator Walki ")],-1),Y=(0,i.Lk)("div",{class:"tile is-child is-12"},[(0,i.Lk)("p",{class:"title is-5"}," Dodaj postać ")],-1),tt={class:"tile is-child is-12"},et={class:"field is-grouped is-grouped-multiline"},st={class:"field has-addons is-gruped mr-2"},it={class:"control",style:{width:"100%","min-width":"120px"}},lt={class:"field mr-2",style:{"min-width":"120px"}},at={class:"select",style:{width:"100%"}},nt=["selected"],ot=["selected"],ct=["selected"],rt={class:"field mr-2",style:{"min-width":"120px"}},dt={class:"select",style:{width:"100%"}},ut=["value","selected"],ht={class:"field mr-2",style:{"min-width":"120px"}},pt={class:"select mr-3",style:{width:"100%"}},kt=["selected"],yt=["selected"],mt=["selected"],Lt={key:0,class:"field mr-2",style:{"min-width":"80px"}},vt=(0,i.Lk)("span",{class:"icon is-small is-right"},[(0,i.Lk)("i",{class:"fa-solid fa-hat-wizard"})],-1),gt={class:"field mr-2"},ft={class:"control"},wt=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-plus"})],-1),bt=[wt],Ct=(0,i.Lk)("div",{class:"tile is-child is-12"},[(0,i.Lk)("p",{class:"title is-5"}," Akcje grupowe ")],-1),St={class:"tile is-child is-12"},Dt={class:"field default is-grouped is-grouped-multiline"},Ft={class:"field mr-2",style:{"min-width":"200px"}},Rt={class:"select",style:{width:"100%"}},zt=["selected"],xt=["selected"],Mt=["selected"],It=["selected"],jt={class:"field mr-2"},Et={class:"control"},Tt=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-skull"})],-1),At=[Tt],Pt={class:"field mr-2"},Kt={class:"control"},Vt=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-heart-pulse"})],-1),Xt=[Vt],Nt={class:"field mr-2"},Ot={class:"control"},$t={key:0,class:"mb-5 is-centered has-text-centered"},Wt=(0,i.Fv)('<div class="columns is-centered mt-3 is-fullwidth"><div class="column is-one-third-desktop is-one-third-tablet is-one-third-mobile is-offset-4-mobile"><figure class="image is-5by4 is-fullwidth has-ratio" style="height:auto;"><img src="'+n+'"></figure></div></div><div class="columns is-centered mt-3 mb-0"><div class="column"><p class="title is-size-4">Nic tu nie ma!</p></div></div><div class="columns is-centered mb-3"><div class="column"><p class="subtitle is-size-5">Na razie...</p></div></div>',3),_t=[Wt],Ut={class:"tile is-parent is-12 is-vertical notification is-info mb-5"},Qt={class:"tile is-child is-12"},Jt={class:"level"},Zt={class:"level-left"},Ht={class:"level-item"},Bt={class:"is-family-monospace"},Gt={class:"level-right"},qt={class:"level-item"},Yt=(0,i.Lk)("span",null,"Powrót na górę",-1),te=[Yt],ee={class:"level-item"},se=(0,i.eW)("Wyczyść zapisane dane");function ie(t,e,s,n,c,f){const C=(0,i.g2)("D6Button"),F=(0,i.g2)("AutoConfirmButton"),_=(0,i.g2)("Entity"),H=(0,i.g2)("StatModal"),wt=(0,i.g2)("SpellSelectModal");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("section",o,r,512),(0,i.Lk)("section",null,[(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[(0,i.Lk)("div",h,[(0,i.Lk)("div",p,[k,y,(0,i.Lk)("div",m,[(0,i.Lk)("div",L,[(0,i.Lk)("div",v,[(0,i.Lk)("div",g,[(0,i.Lk)("button",{class:"button",title:"Przełącz modyfikator K20",onClick:e[0]||(e[0]=t=>{c.showD20Additions=!c.showD20Additions,c.throwD20Modifier=0})},w)]),c.showD20Additions?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("button",{class:"button",onClick:e[1]||(e[1]=t=>c.throwD20Modifier++),title:"Zwiększ modyfikator"},S)])):(0,i.Q3)("",!0),c.showD20Additions?((0,i.uX)(),(0,i.CE)("div",D,[(0,i.Lk)("button",{class:"button",onClick:e[2]||(e[2]=t=>c.throwD20Modifier--),title:"Zmniejsz modyfikator"},R)])):(0,i.Q3)("",!0),c.showD20Additions?((0,i.uX)(),(0,i.CE)("div",z,[(0,i.bo)((0,i.Lk)("input",{class:"input",type:"number",placeholder:"Modyfikator...","onUpdate:modelValue":e[3]||(e[3]=t=>c.throwD20Modifier=t),title:"Modyfikator K20"},null,512),[[l.Jo,c.throwD20Modifier]])])):(0,i.Q3)("",!0),(0,i.Lk)("div",x,[(0,i.Lk)("button",{class:"button",onClick:e[4]||(e[4]=t=>{f.throwDX(20)}),title:"Rzuć na K20"},[(0,i.Lk)("span",M,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid fa-dice-d20",{shake:c.shakeD20}])},null,2)])])]),(0,i.Lk)("div",I,[(0,i.bo)((0,i.Lk)("input",{class:"input",placeholder:"Wynik...","onUpdate:modelValue":e[5]||(e[5]=t=>c.throwD20Result=t),disabled:""},null,512),[[l.Jo,c.throwD20Result]])])]),(0,i.Lk)("div",j,[(0,i.Lk)("div",E,[(0,i.bF)(C,{title:"Rzuć na K6"})])]),(0,i.Lk)("div",T,[(0,i.Lk)("div",A,[(0,i.Lk)("button",{class:"button",onClick:e[6]||(e[6]=t=>{f.throwDX(3)}),title:"Rzuć na K3"},[(0,i.Lk)("span",P,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid fa-cubes",{shake:c.shakeD3}])},null,2)])])]),(0,i.Lk)("div",K,[(0,i.bo)((0,i.Lk)("input",{class:"input",placeholder:"Wynik...","onUpdate:modelValue":e[7]||(e[7]=t=>c.throwD3Result=t),disabled:""},null,512),[[l.Jo,c.throwD3Result]])])]),(0,i.Lk)("div",V,[(0,i.Lk)("div",X,[(0,i.Lk)("button",{class:"button",onClick:e[8]||(e[8]=t=>{f.throwDX(2)}),title:"Rzuć na K2"},[(0,i.Lk)("span",N,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid fa-circle-half-stroke",{shake:c.shakeD2}])},null,2)])])]),(0,i.Lk)("div",O,[(0,i.bo)((0,i.Lk)("input",{class:"input",placeholder:"Wynik...","onUpdate:modelValue":e[9]||(e[9]=t=>c.throwD2Result=t),disabled:""},null,512),[[l.Jo,c.throwD2Result]])])])])]),(0,i.Lk)("div",$,[W,(0,i.Lk)("button",{class:"button is-success",style:{"margin-left":"15px","margin-top":"-6px"},onClick:e[10]||(e[10]=t=>c.notes.push(""))},U)]),(0,i.Lk)("div",Q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(c.notes,(t,e)=>((0,i.uX)(),(0,i.CE)("div",{class:"field is-grouped mb-2",key:e},[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"input is-fullwidth",rows:"1",placeholder:"Notatka...","onUpdate:modelValue":t=>c.notes[e]=t},null,8,J),[[l.Jo,c.notes[e]]]),e>0?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button is-danger",onClick:t=>f.removeNote(e)},B,8,Z)):(0,i.Q3)("",!0)]))),128))])]),(0,i.Lk)("div",G,[q,Y,(0,i.Lk)("div",tt,[(0,i.Lk)("div",et,[(0,i.Lk)("div",st,[(0,i.Lk)("p",it,[(0,i.Lk)("input",{class:"input",type:"text",placeholder:"Nazwa postaci",onChange:e[11]||(e[11]=t=>c.entityForm.name=t.target.value),onKeyup:e[12]||(e[12]=(0,l.jR)(t=>f.addEntity(),["enter"]))},null,32)])]),(0,i.Lk)("div",lt,[(0,i.Lk)("div",at,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[13]||(e[13]=t=>c.entityForm.type=t.target.value)},[(0,i.Lk)("option",{value:"enemy",selected:"enemy"==c.entityForm.type},"Wróg",8,nt),(0,i.Lk)("option",{value:"neutral",selected:"neutral"==c.entityForm.type},"Niezależny",8,ot),(0,i.Lk)("option",{value:"ally",selected:"ally"==c.entityForm.type},"Przyjaciel",8,ct)],32)])]),(0,i.Lk)("div",rt,[(0,i.Lk)("div",dt,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[14]||(e[14]=t=>c.entityForm.rank=t.target.value)},[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(7,t=>(0,i.Lk)("option",{key:t,value:t,selected:c.entityForm.rank==t},"Ranga "+(0,a.v_)(t),9,ut)),64))],32)])]),(0,i.Lk)("div",ht,[(0,i.Lk)("div",pt,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[15]||(e[15]=t=>c.entityForm.combatType=t.target.value)},[(0,i.Lk)("option",{value:"light",selected:"light"==c.entityForm.combatType},"Lekki",8,kt),(0,i.Lk)("option",{value:"heavy",selected:"heavy"==c.entityForm.combatType},"Ciężki",8,yt),(0,i.Lk)("option",{value:"magic",selected:"magic"==c.entityForm.combatType},"Magiczny",8,mt)],32)])]),"magic"==c.entityForm.combatType?((0,i.uX)(),(0,i.CE)("div",Lt,[(0,i.Lk)("button",{class:"button",style:{width:"100%"},onClick:e[16]||(e[16]=t=>{c.currentSpellsKey=null,f.showSpellSelectModal()})},[(0,i.Lk)("span",null,(0,a.v_)(c.entityForm.spells?.length)+"/"+(0,a.v_)(c.entityForm.rank),1),vt])])):(0,i.Q3)("",!0),(0,i.Lk)("div",gt,[(0,i.Lk)("div",ft,[(0,i.Lk)("button",{class:"button",title:"Dodaj postać",onClick:e[17]||(e[17]=t=>f.addEntity())},bt)])])])]),Ct,(0,i.Lk)("div",St,[(0,i.Lk)("div",Dt,[(0,i.Lk)("div",Ft,[(0,i.Lk)("div",Rt,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[18]||(e[18]=t=>c.groupActionForm.type=t.target.value)},[(0,i.Lk)("option",{value:"enemy",selected:"all"==c.groupActionForm.type},"Wszyscy",8,zt),(0,i.Lk)("option",{value:"enemy",selected:"enemy"==c.groupActionForm.type},"Wróg",8,xt),(0,i.Lk)("option",{value:"neutral",selected:"neutral"==c.groupActionForm.type},"Niezależny",8,Mt),(0,i.Lk)("option",{value:"ally",selected:"ally"==c.groupActionForm.type},"Przyjaciel",8,It)],32)])]),(0,i.Lk)("div",jt,[(0,i.Lk)("div",Et,[(0,i.Lk)("button",{class:"button",title:"Zabij postacie",onClick:e[19]||(e[19]=t=>f.groupAction("kill"))},At)])]),(0,i.Lk)("div",Pt,[(0,i.Lk)("div",Kt,[(0,i.Lk)("button",{class:"button",title:"Wskrześ postacie",onClick:e[20]||(e[20]=t=>f.groupAction("revive"))},Xt)])]),(0,i.Lk)("div",Nt,[(0,i.Lk)("div",Ot,[(0,i.bF)(F,{title:"Usuń postacie",onlyIcon:!0,class:"is-danger",icon:"fa-trash",onConfirmClick:e[21]||(e[21]=t=>f.groupAction("delete"))})])])])])])]),c.entities.length<=0?((0,i.uX)(),(0,i.CE)("div",$t,_t)):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(c.entities,(t,l)=>((0,i.uX)(),(0,i.Wv)(_,{key:l,entity:c.entities[l],spellList:s.spellList,"onUpdate:entity":t=>c.entities[l]=t,onChange:e[22]||(e[22]=t=>f.update()),"onRemove:entity":t=>f.removeEntity(l),onShowStatModal:e[23]||(e[23]=t=>f.showStatModal(t)),onShowSpellModal:t=>f.showSpellSelectModal(l),"onClone:entity":t=>f.cloneEntity(l)},null,8,["entity","spellList","onUpdate:entity","onRemove:entity","onShowSpellModal","onClone:entity"]))),128)),(0,i.Lk)("div",Ut,[(0,i.Lk)("div",Qt,[(0,i.Lk)("nav",Jt,[(0,i.Lk)("div",Zt,[(0,i.Lk)("div",Ht,[(0,i.Lk)("p",Bt,"Liczba postaci: "+(0,a.v_)(c.entities.length),1)])]),(0,i.Lk)("div",Gt,[(0,i.Lk)("div",qt,[(0,i.Lk)("button",{class:"button is-fullwidth is-white",onClick:e[24]||(e[24]=t=>{f.scrollToTop()})},te)]),(0,i.Lk)("div",ee,[(0,i.bF)(F,{title:"Wyczyść zapisane dane",style:{width:"100%"},class:"is-warning",onConfirmClick:e[25]||(e[25]=e=>{f.clearPanelSave(),t.$router.go(t.$router.currentRoute)})},{default:(0,i.k6)(()=>[se]),_:1})])])])])])])])]),(0,i.bF)(H,{throwStatistic:c.throwStatistic,onInterface:f.getChildInterface},null,8,["throwStatistic","onInterface"]),(0,i.bF)(wt,{spells:c.entityForm.spells,spellList:s.spellList,title:`Wybierz zaklęcia (${c.entityForm.spells?.length}/${c.entityForm.rank})`,onChange:e[26]||(e[26]=t=>{f.update()}),onInterface:f.getChildInterface},null,8,["spells","spellList","title","onInterface"])],64)}s(8111),s(7588);const le={class:"tile is-parent is-vertical is-12 p-0"},ae={class:"tile is-child is-12"},ne={class:"level is-mobile"},oe={class:"level-left"},ce={class:"level-item"},re={class:"icon-text title is-4"},de={class:"icon mr-2"},ue={class:"level-right mr-2"},he={class:"level-item",style:{"max-width":"40px"}},pe={class:"control"},ke=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-regular fa-clone"})],-1),ye=[ke],me={key:0,class:"level-item"},Le={class:"control"},ve=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-heart-pulse"})],-1),ge=[ve],fe={key:1,class:"level-item"},we={class:"control"},be=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-trash"})],-1),Ce=[be],Se={key:0,class:"tile is-child is-12"},De={class:"field is-grouped is-grouped-multiline"},Fe={class:"field has-addons is-gruped pr-2"},Re={class:"control"},ze={class:"icon is-small"},xe={class:"control",style:{"min-width":"60px"}},Me=["value"],Ie={class:"control"},je={class:"icon is-small"},Ee={class:"field has-addons is-gruped pr-2"},Te={class:"control"},Ae={class:"icon is-small"},Pe={class:"control",style:{"min-width":"60px"}},Ke=["value"],Ve={class:"control"},Xe={class:"icon is-small"},Ne={class:"field has-addons is-gruped pr-2"},Oe={class:"control"},$e={class:"icon is-small"},We={class:"control",style:{"min-width":"60px"}},_e=["value"],Ue={class:"control"},Qe={class:"icon is-small"},Je={class:"field has-addons is-gruped pr-2"},Ze={class:"control"},He={class:"icon is-small"},Be={class:"control",style:{"min-width":"60px"}},Ge=["value"],qe={class:"control"},Ye={class:"icon is-small"},ts={class:"field has-addons is-gruped pr-2"},es={class:"control"},ss=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-arrow-up"})],-1),is=[ss],ls={class:"control has-icons-right",style:{"min-width":"90px"}},as=["value"],ns={class:"icon is-small is-right"},os={class:"control"},cs=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-arrow-down"})],-1),rs=[cs],ds={class:"field has-addons is-gruped mr-2"},us={class:"control",style:{"min-width":"60px"}},hs=["value"],ps={class:"control"},ks={class:"icon is-small"},ys={class:"field mr-2",style:{"min-width":"140px"}},ms={class:"select",style:{width:"100%"}},Ls=["selected"],vs=["selected"],gs=["selected"],fs={class:"field mr-2",style:{"min-width":"120px"}},ws={class:"select",style:{width:"100%"}},bs=["selected"],Cs=["selected"],Ss=["selected"],Ds={key:0,class:"field mr-2"},Fs=(0,i.Lk)("span",{class:"icon is-small is-right"},[(0,i.Lk)("i",{class:"fa-solid fa-hat-wizard"})],-1),Rs={class:"field has-addons is-gruped pr-2"},zs={class:"control"},xs=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-angles-up"})],-1),Ms=[xs],Is={class:"control",style:{"min-width":"60px"}},js=["value"],Es={class:"control"},Ts=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-equals"})],-1),As=[Ts],Ps={class:"control"},Ks=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-angles-down"})],-1),Vs=[Ks],Xs={class:"field mr-2",style:{"max-width":"40px"}},Ns={class:"control"},Os=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-regular fa-clipboard"})],-1),$s=[Os],Ws={class:"field mr-2",style:{"max-width":"40px"}},_s={class:"control"},Us=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-skull"})],-1),Qs=[Us],Js={class:"field mr-2",style:{"max-width":"40px"}},Zs={class:"control"},Hs=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"fa-solid fa-trash"})],-1),Bs=[Hs],Gs={class:"field mr-2 is-12"},qs=["value"];function Ys(t,e,s,n,o,c){const r=(0,i.g2)("SpellSelectModal");return(0,i.uX)(),(0,i.CE)("div",{class:(0,a.C4)(["tile is-child notification",{"is-warning":"enemy"==s.entity.type,"is-success":"ally"==s.entity.type,"is-info":"neutral"==s.entity.type}])},[(0,i.Lk)("div",le,[(0,i.Lk)("div",ae,[(0,i.Lk)("div",ne,[(0,i.Lk)("div",oe,[(0,i.Lk)("div",ce,[(0,i.Lk)("span",re,[(0,i.Lk)("span",de,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid",c.stateIcon])},null,2)]),(0,i.Lk)("p",{class:"title is-4",onKeydown:e[0]||(e[0]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[1]||(e[1]=t=>c.updateValue("name",t.target.innerText)),style:{cursor:"text"},contenteditable:""},(0,a.v_)(s.entity.name),33)])])]),(0,i.Lk)("div",ue,[(0,i.Lk)("div",he,[(0,i.Lk)("div",pe,[(0,i.Lk)("button",{class:"button",title:"Duplikuj byt",onClick:e[2]||(e[2]=t=>c.cloneEntity())},ye)])]),s.entity.dead?((0,i.uX)(),(0,i.CE)("div",me,[(0,i.Lk)("div",Le,[(0,i.Lk)("button",{class:"button",title:"Ożyw postać",onClick:e[3]||(e[3]=t=>c.updateValue("dead",!1))},ge)])])):(0,i.Q3)("",!0),s.entity.dead?((0,i.uX)(),(0,i.CE)("div",fe,[(0,i.Lk)("div",we,[(0,i.Lk)("button",{class:"button is-danger",title:"Usuń postać",onClick:e[4]||(e[4]=t=>c.removeEntity())},Ce)])])):(0,i.Q3)("",!0)])])]),s.entity.dead?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Se,[(0,i.Lk)("div",De,[(0,i.Lk)("div",Fe,[(0,i.Lk)("div",Re,[(0,i.Lk)("button",{class:"button",onClick:e[5]||(e[5]=t=>c.toggleCurse("strength")),title:"Nałóż / ulecz klątwę"},[(0,i.Lk)("span",ze,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid",s.entity.curses.strength?"fa-arrows-up-to-line":"fa-arrows-down-to-line"]),style:(0,a.Tr)({color:s.entity.curses.strength?"red":""})},null,6)])])]),(0,i.Lk)("p",xe,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Siła",value:s.entity.strength,onKeydown:e[6]||(e[6]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[7]||(e[7]=t=>c.updateValue("strength",t.target.value))},null,40,Me)]),(0,i.Lk)("div",Ie,[(0,i.Lk)("button",{class:"button",onClick:e[8]||(e[8]=t=>c.drawStat("strength"))},[(0,i.Lk)("span",je,[(0,i.Lk)("i",{class:"fa-solid fa-hand-fist",style:(0,a.Tr)({color:s.entity.strength==c.bodyStats()?"":s.entity.strength>c.bodyStats()?"#ffd257":"#ee1742"})},null,4)])])])]),(0,i.Lk)("div",Ee,[(0,i.Lk)("div",Te,[(0,i.Lk)("button",{class:"button",onClick:e[9]||(e[9]=t=>c.toggleCurse("agility")),title:"Nałóż / ulecz klątwę"},[(0,i.Lk)("span",Ae,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid",s.entity.curses.agility?"fa-arrows-up-to-line":"fa-arrows-down-to-line"]),style:(0,a.Tr)({color:s.entity.curses.agility?"red":""})},null,6)])])]),(0,i.Lk)("p",Pe,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Zręczność",value:s.entity.agility,onKeydown:e[10]||(e[10]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[11]||(e[11]=t=>c.updateValue("agility",t.target.value))},null,40,Ke)]),(0,i.Lk)("div",Ve,[(0,i.Lk)("button",{class:"button",onClick:e[12]||(e[12]=t=>c.drawStat("agility"))},[(0,i.Lk)("span",Xe,[(0,i.Lk)("i",{class:"fa-solid fa-person-running",style:(0,a.Tr)({color:s.entity.agility==c.bodyStats()?"":s.entity.agility>c.bodyStats()?"#ffd257":"#ee1742"})},null,4)])])])]),(0,i.Lk)("div",Ne,[(0,i.Lk)("div",Oe,[(0,i.Lk)("button",{class:"button",onClick:e[13]||(e[13]=t=>c.toggleCurse("inteligence")),title:"Nałóż / ulecz klątwę"},[(0,i.Lk)("span",$e,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid",s.entity.curses.inteligence?"fa-arrows-up-to-line":"fa-arrows-down-to-line"]),style:(0,a.Tr)({color:s.entity.curses.inteligence?"red":""})},null,6)])])]),(0,i.Lk)("p",We,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Inteligencja",value:s.entity.inteligence,onKeydown:e[14]||(e[14]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[15]||(e[15]=t=>c.updateValue("inteligence",t.target.value))},null,40,_e)]),(0,i.Lk)("div",Ue,[(0,i.Lk)("button",{class:"button",onClick:e[16]||(e[16]=t=>c.drawStat("inteligence"))},[(0,i.Lk)("span",Qe,[(0,i.Lk)("i",{class:"fa-solid fa-brain",style:(0,a.Tr)({color:s.entity.inteligence==c.mindStats()?"":s.entity.inteligence>c.mindStats()?"#ffd257":"#ee1742"})},null,4)])])])]),(0,i.Lk)("div",Je,[(0,i.Lk)("div",Ze,[(0,i.Lk)("button",{class:"button",onClick:e[17]||(e[17]=t=>c.toggleCurse("focus")),title:"Nałóż / ulecz klątwę"},[(0,i.Lk)("span",He,[(0,i.Lk)("i",{class:(0,a.C4)(["fa-solid",s.entity.curses.focus?"fa-arrows-up-to-line":"fa-arrows-down-to-line"]),style:(0,a.Tr)({color:s.entity.curses.focus?"red":""})},null,6)])])]),(0,i.Lk)("p",Be,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Skupienie",value:s.entity.focus,onKeydown:e[18]||(e[18]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[19]||(e[19]=t=>c.updateValue("focus",t.target.value))},null,40,Ge)]),(0,i.Lk)("div",qe,[(0,i.Lk)("button",{class:"button",onClick:e[20]||(e[20]=t=>c.drawStat("focus"))},[(0,i.Lk)("span",Ye,[(0,i.Lk)("i",{class:"fa-solid fa-eye",style:(0,a.Tr)({color:s.entity.focus==c.mindStats()?"":s.entity.focus>c.mindStats()?"#ffd257":"#ee1742"})},null,4)])])])]),(0,i.Lk)("div",ts,[(0,i.Lk)("div",es,[(0,i.Lk)("button",{class:"button",onClick:e[21]||(e[21]=t=>c.updateValue("health",++s.entity.health))},is)]),(0,i.Lk)("p",ls,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Żywotność",value:s.entity.health,onKeydown:e[22]||(e[22]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[23]||(e[23]=t=>c.updateValue("health",t.target.value<=0?0:t.target.value))},null,40,as),(0,i.Lk)("span",ns,[(0,i.Lk)("i",{class:"fa-solid fa-heart",style:(0,a.Tr)({color:s.entity.health==5*s.entity.rank?"white":s.entity.health>5*s.entity.rank?"#ffd257":"#ee1742"})},null,4)])]),(0,i.Lk)("div",os,[(0,i.Lk)("button",{class:"button",onClick:e[24]||(e[24]=t=>c.updateValue("health",s.entity.health<=0?0:--s.entity.health))},rs)])]),(0,i.Lk)("div",ds,[(0,i.Lk)("p",us,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Mana",value:s.entity.mana,onKeydown:e[25]||(e[25]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[26]||(e[26]=t=>c.updateValue("mana",t.target.value))},null,40,hs)]),(0,i.Lk)("div",ps,[(0,i.Lk)("button",{class:"button",title:"Rzuć zaklęcie",onClick:e[27]||(e[27]=t=>c.updateValue("mana",s.entity.mana<=0?0:--s.entity.mana))},[(0,i.Lk)("span",ks,[(0,i.Lk)("i",{class:"fa-solid fa-wand-sparkles",style:(0,a.Tr)({color:s.entity.mana==s.entity.rank?"":s.entity.mana>s.entity.mana?"#ffd257":"#ee1742"})},null,4)])])])]),(0,i.Lk)("div",ys,[(0,i.Lk)("div",ms,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[28]||(e[28]=t=>c.updateValue("type",t.target.value))},[(0,i.Lk)("option",{value:"enemy",selected:"enemy"==s.entity.type},"Przeciwnik",8,Ls),(0,i.Lk)("option",{value:"neutral",selected:"neutral"==s.entity.type},"Niezależny",8,vs),(0,i.Lk)("option",{value:"ally",selected:"ally"==s.entity.type},"Przyjaciel",8,gs)],32)])]),(0,i.Lk)("div",fs,[(0,i.Lk)("div",ws,[(0,i.Lk)("select",{style:{width:"100%"},onChange:e[29]||(e[29]=t=>c.updateValue("combatType",t.target.value))},[(0,i.Lk)("option",{value:"light",selected:"light"==s.entity.combatType},"Lekki",8,bs),(0,i.Lk)("option",{value:"heavy",selected:"heavy"==s.entity.combatType},"Ciężki",8,Cs),(0,i.Lk)("option",{value:"magic",selected:"magic"==s.entity.combatType},"Magiczny",8,Ss)],32)])]),"magic"==s.entity.combatType?((0,i.uX)(),(0,i.CE)("div",Ds,[(0,i.Lk)("button",{class:"button",style:{width:"100%"},onClick:e[30]||(e[30]=t=>c.showSpellSelectModal())},[(0,i.Lk)("span",null,(0,a.v_)(s.entity.spells.length??1)+"/"+(0,a.v_)(s.entity.rank),1),Fs])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Rs,[(0,i.Lk)("div",zs,[(0,i.Lk)("button",{class:"button",title:"Zwiększ Rangę",onClick:e[31]||(e[31]=t=>c.updateValue("rank",++s.entity.rank))},Ms)]),(0,i.Lk)("p",Is,[(0,i.Lk)("input",{class:"input",type:"number",placeholder:"Ranga",title:"Ranga",value:s.entity.rank,onKeydown:e[32]||(e[32]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[33]||(e[33]=t=>c.updateValue("rank",t.target.value<1?1:t.target.value))},null,40,js)]),(0,i.Lk)("div",Es,[(0,i.Lk)("button",{class:"button",title:"Wyrównaj statystyki do Rangi",onClick:e[34]||(e[34]=t=>c.alignStatsToRank())},As)]),(0,i.Lk)("div",Ps,[(0,i.Lk)("button",{class:"button",title:"Zmniejsz Rangę",onClick:e[35]||(e[35]=t=>c.updateValue("rank",s.entity.rank<=1?1:--s.entity.rank))},Vs)])]),(0,i.Lk)("div",Xs,[(0,i.Lk)("div",Ns,[(0,i.Lk)("button",{class:(0,a.C4)(["button",s.entity.notesHidden?"":"is-dark"]),title:"Pokaż notatki",onClick:e[36]||(e[36]=t=>c.updateValue("notesHidden",!s.entity.notesHidden))},$s,2)])]),(0,i.Lk)("div",Ws,[(0,i.Lk)("div",_s,[(0,i.Lk)("button",{class:"button",title:"Zabij Postać",onClick:e[37]||(e[37]=t=>c.updateValue("dead",!0))},Qs)])]),(0,i.Lk)("div",Js,[(0,i.Lk)("div",Zs,[(0,i.Lk)("button",{class:"button is-danger",title:"Usuń postać",onClick:e[38]||(e[38]=t=>c.removeEntity())},Bs)])])]),(0,i.bo)((0,i.Lk)("div",Gs,[(0,i.Lk)("textarea",{class:"textarea is-small is-fullwidth",placeholder:"Notatki...",onKeydown:e[39]||(e[39]=(0,l.jR)(t=>t.target.blur(),["enter"])),onFocusout:e[40]||(e[40]=t=>c.updateValue("notes",t.target.value)),value:s.entity.notes},null,40,qs)],512),[[l.aG,!s.entity.notesHidden]])])),(0,i.bF)(r,{spells:s.entity.spells,spellList:s.spellList,title:`Wybierz zaklęcia (${s.entity.spells?.length}/${s.entity.rank})`,onChange:e[41]||(e[41]=e=>{t.$emit("change")}),onInterface:c.setCustomChildInterface},null,8,["spells","spellList","title","onInterface"])])],2)}const ti={class:"modal-content"},ei={class:"modal-card-head"},si={class:"modal-card-title"},ii={class:"modal-card-body"},li={class:"field is-grouped is-grouped-multiline is-flex",style:{width:"100%"}},ai=["onClick"],ni={class:"modal-card-foot"};function oi(t,e,s,l,n,o){return(0,i.uX)(),(0,i.CE)("div",{class:(0,a.C4)(["modal",{"is-active":n.active}])},[(0,i.Lk)("div",{class:"modal-background",onClick:e[0]||(e[0]=t=>n.active=!1)}),(0,i.Lk)("div",ti,[(0,i.Lk)("header",ei,[(0,i.Lk)("p",si,(0,a.v_)(s.title??"Wybierz zaklęcia"),1),(0,i.Lk)("button",{class:"delete",onClick:e[1]||(e[1]=t=>n.active=!1)})]),(0,i.Lk)("section",ii,[(0,i.Lk)("div",li,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.spellList,(e,s)=>((0,i.uX)(),(0,i.CE)("p",{key:s,class:"control is-flex-grow-1",style:{"max-width":"35%",flex:"1 1 auto"}},[(0,i.Lk)("button",{class:(0,a.C4)(["button is-expanded",{"is-success":o.isChosen(s)}]),style:{width:"100%"},onClick:e=>{o.switchSpell(s),t.$emit("change")}},(0,a.v_)(e.name),11,ai)]))),128))])]),(0,i.Lk)("footer",ni,[(0,i.Lk)("button",{class:"button is-success",onClick:e[2]||(e[2]=t=>n.active=!1)},"OK"),(0,i.Lk)("button",{class:"button",onClick:e[3]||(e[3]=t=>{s.spells.length=0})},"Odznacz wszystko")])])],2)}var ci={name:"SpellSelectModal",props:{spellList:Object,spells:Array,title:String,type:String},data(){return{active:!1}},methods:{show(){this.active=!0},emitInterface(){this.$emit("interface",{showSpellModal:()=>this.show()})},isChosen(t){return!!this.spells?.includes(t)},switchSpell(t){this.spells.includes(t)?this.spells.splice(this.spells.indexOf(t),1):this.spells.push(t)}},watch:{active:function(t){document.querySelector("html").classList.toggle("is-clipped",t)}},mounted(){this.emitInterface()}},ri=s(1241);const di=(0,ri.A)(ci,[["render",oi]]);var ui=di,hi={name:"Entity",props:["entity","spellList"],components:{SpellSelectModal:ui},data(){return{entityStatesIcons:{boosted:"fa-face-grin-squint",full:"fa-face-smile",hurt:"fa-face-meh",incapacitated:"fa-face-dizzy",dead:"fa-skull"}}},computed:{stateIcon(){return this.entity.dead?this.entityStatesIcons.dead:0==this.entity.health?this.entityStatesIcons.incapacitated:this.entity.health==5*this.entity.rank?this.entityStatesIcons.full:this.entity.health>=5*this.entity.rank?this.entityStatesIcons.boosted:this.entityStatesIcons.hurt},key(){return this.$.vnode.key}},methods:{updateValue(t,e){console.log("UPDATING...",t,e),this.$emit("update:entity",{...this.entity,[t]:e})},toggleCurse(t){this.entity.curses[t]=!this.entity.curses[t],this.entity[t]=this.entity.curses[t]?parseInt(this.entity[t])-4:parseInt(this.entity[t])+4},alignStatsToRank(){this.entity.strength=this.entity.agility=this.bodyStats(),this.entity.inteligence=this.entity.focus=this.mindStats(),this.entity.mana=this.entity.rank,this.entity.health=5*this.entity.rank},drawStat(t){let e=this.entity[t];console.log("drawing... ",t,e),this.$emit("showStatModal",{id:t,value:e})},showSpellSelectModal(){this.showSpellModal()},removeEntity(){this.$emit("remove:entity")},cloneEntity(){this.$emit("clone:entity")},bodyStats(){return"magic"!=this.entity.combatType?4*parseInt(this.entity.rank):2*parseInt(this.entity.rank)},mindStats(){return"magic"!=this.entity.combatType?2*parseInt(this.entity.rank):4*parseInt(this.entity.rank)},setCustomChildInterface(t){this.showSpellModal=t.showSpellModal}},mounted(){}};const pi=(0,ri.A)(hi,[["render",Ys]]);var ki=pi,yi=s(4847),mi=s(5976),Li=s(1484),vi=s(6235),gi=s(2657),fi=s(4014),wi=s.n(fi);let bi=new Li.A;var Ci={name:"CharacterSheetView",components:{Entity:ki,D6Button:mi.A,StatModal:yi.A,AutoConfirmButton:gi.A,SpellSelectModal:ui},props:["abilityPoints","classList","spellList","backgroundList","chosenPoints","other"],data(){return{entities:[],entityForm:{name:"",type:"enemy",rank:1,combatType:"light",spells:[]},groupActionForm:{type:"all"},currentSpellsKey:null,throwStatistic:this.chosenPoints.strength,showD20Additions:!1,throwD20Result:0,throwD20Modifier:0,throwD3Result:0,throwD2Result:0,shakeD20:!1,shakeD3:!1,shakeD2:!1,notes:[""]}},methods:{sortEntities(){this.entities.sort((t,e)=>(t=parseInt(t.agility),e=parseInt(e.agility),t<e?1:t>e?-1:0))},async throwDX(t){let e=await bi.getRandomNumber(1,t),s=()=>{};switch(t){case 2:this.shakeD2=!0,s=()=>{this.throwD2Result=e,this.shakeD2=!1};break;case 3:this.shakeD3=!0,s=()=>{this.throwD3Result=e,this.shakeD3=!1};break;case 20:this.shakeD20=!0,s=()=>{this.throwD20Result=parseInt(e)+parseInt(this.throwD20Modifier),this.shakeD20=!1};break;default:break}setTimeout(s,500)},addEntity(){let t="magic"!=this.entityForm.combatType?4*parseInt(this.entityForm.rank):2*parseInt(this.entityForm.rank),e="magic"!=this.entityForm.combatType?2*parseInt(this.entityForm.rank):4*parseInt(this.entityForm.rank),s={name:""==this.entityForm.name?this.getRandomFantasyName():this.entityForm.name,rank:this.entityForm.rank,combatType:this.entityForm.combatType,type:this.entityForm.type,strength:t,agility:t,inteligence:e,focus:e,health:5*parseInt(this.entityForm.rank),mana:this.entityForm.rank,dead:!1,notes:"",notesHidden:!0,curses:{strength:!1,agility:!1,inteligence:!1,focus:!1},spells:Object.assign([],this.entityForm.spells)};this.entities.push(s)},groupAction(t){console.log("Group ",t);let e=[];for(const s in this.entities){let i=this.entities[s];if("all"==this.groupActionForm.type||this.groupActionForm.type==i.type)t:switch(t){case"kill":i.dead=!0;break t;case"revive":i.dead=!1;break t;case"delete":e.push(s);break t}}"delete"==t&&(e=e.reverse(),e.forEach(t=>{this.removeEntity(t)}))},showStatModal(t){let e=this.chosenPoints;this.throwStatistic={...e[t.id],value:t.value},this.$options.childInterface.showStatModal()},showSpellSelectModal(){this.$options.childInterface.showSpellModal()},getChildInterface(t){this.$options.childInterface=Object.assign(this.$options.childInterface??{},t)},removeEntity(t){this.entities.splice(t,1)},removeNote(t){this.notes.splice(t,1)},cloneEntity(t){let e=this.entities[t];this.entities.push(e)},getRandomFantasyName(){return vi[Math.floor(Math.random()*vi.length)]},setSpells(t){this.currentSpellsKey?(console.log("Setting spell:",this.currentSpellsKey,t),this.entities[this.currentSpellsKey].spells=t):this.entityForm.spells=t,this.update()},getCurrentPanelObject(){let t={};return t.entities=this.entities,t.entityForm=this.entityForm,t.groupActionForm=this.groupActionForm,t.throwStatistic=this.throwStatistic,t.throwD20Result=this.throwD20Result,t.throwD20Modifier=this.throwD20Modifier,t.throwD6Result=this.throwD6Result,t.throwD3Result=this.throwD3Result,t.throwD2Result=this.throwD2Result,t.notes=this.notes,t},installPanelObject(t){this.entities=t.entities??this.entities,this.entityForm=t.entityForm??this.entityForm,this.groupActionForm=t.groupActionForm??this.groupActionForm,this.throwStatistic=t.throwStatistic??this.throwStatistic,this.throwD20Result=t.throwD20Result??this.throwD20Result,this.throwD20Modifier=t.throwD20Modifier??this.throwD20Modifier,this.throwD6Result=t.throwD6Result??this.throwD6Result,this.throwD3Result=t.throwD3Result??this.throwD3Result,this.throwD2Result=t.throwD2Result??this.throwD2Result,this.notes=t.notes??this.notes},installPanelObjectFromMemory(){this.installPanelObject(this.getSavedPanelObject())},update(){this.savePanelObject(this.getCurrentPanelObject()),console.log("Updating saved panel data...",this.getCurrentPanelObject())},savePanelObject(t){let e=JSON.stringify(t);wi().set("gameMasterPanel",e)},clearPanelSave(){wi().remove("gameMasterPanel")},getSavedPanelObject(){let t=wi().get("gameMasterPanel"),e={};try{e=JSON.parse(t)??{},console.log("Pobrano panel: ",e)}catch(s){console.log("Nie załadowano panelu:",t,s)}return e},savePanel(){this.savePanelObject(this.getCurrentPanelObject())},scrollToTop(){let t=this.$refs.tool;t.scrollIntoView({alignToTop:!0,behavior:"smooth",block:"start"})}},computed:{agilityStats(){let t=[];return this.entities.forEach(e=>{t.push(e.agility)}),t},currentSpells(){return null!=this.currentSpellsKey?this.entities[this.currentSpellsKey].spells:[]},currentRank(){return null!=this.currentSpellsKey?this.entities[this.currentSpellsKey].rank:1},watchChanger(){return this.entities+this.entityForm+this.groupActionFor+this.throwStatistic+this.showD20Additions+this.throwD20Result+this.throwD20Modifier+this.throwD3Result+this.throwD2Result+this.shakeD20+this.shakeD3+this.shakeD2+this.notes}},mounted(){this.installPanelObjectFromMemory(),this.sortEntities()},watch:{agilityStats:{handler(){this.sortEntities()}},watchChanger:{handler(){this.update()}}}};const Si=(0,ri.A)(Ci,[["render",ie]]);var Di=Si}}]);
//# sourceMappingURL=916.1ca8f026.js.map